{"version":3,"file":"static/js/847.8aa53dd3.chunk.js","mappings":"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","sources":["components/EmployeeMasterList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction EmployeeMasterList() {\r\n  const [masters, setMasters] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showCustomModal, setShowCustomModal] = useState(false);\r\n  const [customBoxes, setCustomBoxes] = useState([]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [newLabel, setNewLabel] = useState('');\r\n  const [newCategory, setNewCategory] = useState('Earnings');\r\n\r\n  useEffect(() => {\r\n    const fetchMasters = async () => {\r\n      try {\r\n        const res = await axios.get('/api/employee-masters');\r\n        setMasters(res.data || []);\r\n      } catch (err) {\r\n        setError('Failed to load employee master');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchMasters();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const saved = localStorage.getItem('customBoxes');\r\n      if (saved) {\r\n        const parsed = JSON.parse(saved);\r\n        const normalized = Array.isArray(parsed) ? parsed.map(x => ({ id: x.id, label: x.label, category: x.category || 'Earnings' })) : [];\r\n        setCustomBoxes(normalized);\r\n      }\r\n      setIsLoaded(true);\r\n    } catch {\r\n      setIsLoaded(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded) return;\r\n    try {\r\n      localStorage.setItem('customBoxes', JSON.stringify(customBoxes));\r\n    } catch {}\r\n  }, [customBoxes, isLoaded]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"actions-bar\">\r\n        <Link to=\"/masters/add\" className=\"btn btn-primary btn-rounded\">Add Employee</Link>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-outline-primary btn-rounded\"\r\n          style={{ marginLeft: 8 }}\r\n          onClick={() => setShowCustomModal(true)}\r\n        >\r\n          Custom Components\r\n        </button>\r\n      </div>\r\n\r\n      {loading && <div>Loading...</div>}\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n\r\n      <div className=\"table-container\">\r\n        <table className=\"table table-striped table-bordered salary-table\">\r\n          <thead className=\"table-dark\">\r\n            <tr>\r\n              <th>Employee ID</th>\r\n              <th>Name</th>\r\n              <th>Designation</th>\r\n              <th>Total Salary</th>\r\n              <th>Join Date</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {masters && masters.length > 0 ? (\r\n              masters.map(m => (\r\n                <tr key={m.id ?? m.employeeId}>\r\n                  <td>{m.employeeId ?? ''}</td>\r\n                  <td>{m.name ?? ''}</td>\r\n                  <td>{m.designation ?? ''}</td>\r\n                  <td>{m.basicSalary ?? ''}</td>\r\n                  <td>{m.joinDate ?? ''}</td>\r\n                  <td className=\"no-print\">\r\n                    <Link to={`/masters/edit/${m.id ?? ''}`} className=\"btn btn-sm btn-primary\" style={{ marginRight: 8 }}>Edit</Link>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-sm btn-danger\"\r\n                      onClick={async () => {\r\n                        if (!m.id) return;\r\n                        if (!window.confirm('Delete this employee?')) return;\r\n                        try {\r\n                          await axios.delete(`/api/employee-masters/${m.id}`);\r\n                          setMasters(prev => prev.filter(x => x.id !== m.id));\r\n                        } catch (err) {\r\n                          alert('Delete failed');\r\n                        }\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={6} className=\"text-center\">No employees found</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {showCustomModal && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            inset: 0,\r\n            background: 'rgba(0,0,0,0.4)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              background: '#fff',\r\n              borderRadius: 8,\r\n              padding: 16,\r\n              width: '90%',\r\n              maxWidth: 560\r\n            }}\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 12 }}>\r\n              <div style={{ fontWeight: 700, fontSize: 18 }}>Custom Components</div>\r\n              <button type=\"button\" className=\"btn btn-secondary btn-rounded\" onClick={() => setShowCustomModal(false)}>Close</button>\r\n            </div>\r\n            <div style={{ display: 'flex', gap: 8, marginBottom: 12 }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Label\"\r\n                value={newLabel}\r\n                onChange={(e) => setNewLabel(e.target.value)}\r\n                style={{ flex: 1 }}\r\n              />\r\n              <select value={newCategory} onChange={(e) => setNewCategory(e.target.value)}>\r\n                <option value=\"Employee\">Earnings</option>\r\n                <option value=\"Earnings\">Allowances</option>\r\n                <option value=\"Deductions\">Deductions</option>\r\n                <option value=\"Summary\">Summary</option>\r\n              </select>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-rounded\"\r\n                onClick={() => {\r\n                  const label = newLabel.trim();\r\n                  if (!label) return;\r\n                  const next = [...customBoxes, { id: Date.now(), label, category: newCategory }];\r\n                  setCustomBoxes(next);\r\n                  setNewLabel('');\r\n                }}\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n            <div>\r\n              {/* Custom components list hidden as per request */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EmployeeMasterList;\r\n"],"names":["masters","setMasters","useState","loading","setLoading","error","setError","showCustomModal","setShowCustomModal","customBoxes","setCustomBoxes","isLoaded","setIsLoaded","newLabel","setNewLabel","newCategory","setNewCategory","useEffect","async","res","axios","get","data","err","fetchMasters","saved","localStorage","getItem","parsed","JSON","parse","normalized","Array","isArray","map","x","id","label","category","_unused","setItem","stringify","_unused2","_jsxs","_Fragment","children","className","_jsx","Link","to","type","style","marginLeft","onClick","color","length","m","_m$id","_m$employeeId","_m$name","_m$designation","_m$basicSalary","_m$joinDate","_m$id2","employeeId","name","designation","basicSalary","joinDate","concat","marginRight","window","confirm","delete","prev","filter","alert","colSpan","position","inset","background","display","alignItems","justifyContent","zIndex","borderRadius","padding","width","maxWidth","marginBottom","fontWeight","fontSize","gap","placeholder","value","onChange","e","target","flex","trim","next","Date","now"],"sourceRoot":""}