"use strict";(self.webpackChunksalary_management_frontend=self.webpackChunksalary_management_frontend||[]).push([[372],{3372:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var l=a(5043),r=a(9722),t=a(3216),n=a(579);function i(){const[e,s]=l.useState(""),[a,i]=l.useState(""),[o,d]=l.useState("EMPLOYEE"),[c,u]=l.useState(""),[m,h]=l.useState(!1),v=(0,t.Zp)();return(0,n.jsxs)("div",{style:{maxWidth:360,margin:"24px auto"},children:[(0,n.jsx)("h3",{children:"Register"}),c?(0,n.jsx)("div",{className:"alert alert-danger",children:c}):null,m?(0,n.jsx)("div",{className:"alert alert-success",children:"Registered"}):null,(0,n.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),u(""),h(!1),e&&e.trim()&&a)try{await r.A.post("/api/auth/register",{username:e,password:a,role:o}),h(!0),setTimeout(()=>v("/login"),800)}catch(i){var l,t,n;409===(null===i||void 0===i||null===(l=i.response)||void 0===l?void 0:l.status)?u("Username already exists"):null!==i&&void 0!==i&&null!==(t=i.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.error?u(i.response.data.error):u("Server error")}else u("Username and password are required")},children:[(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{className:"form-label",children:"Username"}),(0,n.jsx)("input",{value:e,onChange:e=>s(e.target.value),className:"form-control"})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{className:"form-label",children:"Password"}),(0,n.jsx)("input",{type:"password",value:a,onChange:e=>i(e.target.value),className:"form-control"})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{className:"form-label",children:"Role"}),(0,n.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"form-select",children:[(0,n.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,n.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"})]})]})}}}]);
//# sourceMappingURL=372.5733920f.chunk.js.map