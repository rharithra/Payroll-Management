{"version":3,"file":"static/js/372.5733920f.chunk.js","mappings":"gNAIe,SAASA,IACtB,MAAOC,EAAUC,GAAeC,EAAAA,SAAe,KACxCC,EAAUC,GAAeF,EAAAA,SAAe,KACxCG,EAAMC,GAAWJ,EAAAA,SAAe,aAChCK,EAAOC,GAAYN,EAAAA,SAAe,KAClCO,EAAIC,GAASR,EAAAA,UAAe,GAC7BS,GAAWC,EAAAA,EAAAA,MAwBjB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,SAAU,IAAKC,OAAQ,aAAcC,SAAA,EACjDC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACHV,GAAQW,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBF,SAAEV,IAAe,KAC5DE,GAAKS,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBF,SAAC,eAAmB,MAC9DJ,EAAAA,EAAAA,MAAA,QAAMO,SA3BKC,UAKb,GAJAC,EAAEC,iBACFf,EAAS,IACTE,GAAM,GAEDV,GAAaA,EAASwB,QAAWrB,EAKtC,UACQsB,EAAAA,EAAMC,KAAK,qBAAsB,CAAE1B,WAAUG,WAAUE,SAC7DK,GAAM,GACNiB,WAAW,IAAMhB,EAAS,UAAW,IACvC,CAAE,MAAOiB,GAAM,IAADC,EAAAC,EAAAC,EAEC,OADG,OAAHH,QAAG,IAAHA,GAAa,QAAVC,EAAHD,EAAKI,gBAAQ,IAAAH,OAAV,EAAHA,EAAeI,QACVzB,EAAS,2BACf,OAAHoB,QAAG,IAAHA,GAAa,QAAVE,EAAHF,EAAKI,gBAAQ,IAAAF,GAAM,QAANC,EAAbD,EAAeI,YAAI,IAAAH,GAAnBA,EAAqBxB,MAAOC,EAASoB,EAAII,SAASE,KAAK3B,OAC3DC,EAAS,eAChB,MAbEA,EAAS,uCAqBcS,SAAA,EACrBJ,EAAAA,EAAAA,MAAA,OAAKM,UAAU,OAAMF,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYF,SAAC,cAC9BC,EAAAA,EAAAA,KAAA,SAAOiB,MAAOnC,EAAUoC,SAAWd,GAAMrB,EAAYqB,EAAEe,OAAOF,OAAQhB,UAAU,qBAElFN,EAAAA,EAAAA,MAAA,OAAKM,UAAU,OAAMF,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYF,SAAC,cAC9BC,EAAAA,EAAAA,KAAA,SAAOoB,KAAK,WAAWH,MAAOhC,EAAUiC,SAAWd,GAAMlB,EAAYkB,EAAEe,OAAOF,OAAQhB,UAAU,qBAElGN,EAAAA,EAAAA,MAAA,OAAKM,UAAU,OAAMF,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYF,SAAC,UAC9BJ,EAAAA,EAAAA,MAAA,UAAQsB,MAAO9B,EAAM+B,SAAWd,GAAMhB,EAAQgB,EAAEe,OAAOF,OAAQhB,UAAU,cAAaF,SAAA,EACpFC,EAAAA,EAAAA,KAAA,UAAQiB,MAAM,WAAUlB,SAAC,cACzBC,EAAAA,EAAAA,KAAA,UAAQiB,MAAM,QAAOlB,SAAC,iBAG1BC,EAAAA,EAAAA,KAAA,UAAQoB,KAAK,SAASnB,UAAU,kBAAiBF,SAAC,kBAI1D,C","sources":["components/Register.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Register() {\r\n  const [username, setUsername] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const [role, setRole] = React.useState('EMPLOYEE');\r\n  const [error, setError] = React.useState('');\r\n  const [ok, setOk] = React.useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setOk(false);\r\n\r\n    if (!username || !username.trim() || !password) {\r\n      setError('Username and password are required');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post('/api/auth/register', { username, password, role });\r\n      setOk(true);\r\n      setTimeout(() => navigate('/login'), 800);\r\n    } catch (err) {\r\n      const code = err?.response?.status;\r\n      if (code === 409) setError('Username already exists');\r\n      else if (err?.response?.data?.error) setError(err.response.data.error);\r\n      else setError('Server error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 360, margin: '24px auto' }}>\r\n      <h3>Register</h3>\r\n      {error ? <div className=\"alert alert-danger\">{error}</div> : null}\r\n      {ok ? <div className=\"alert alert-success\">Registered</div> : null}\r\n      <form onSubmit={submit}>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Username</label>\r\n          <input value={username} onChange={(e) => setUsername(e.target.value)} className=\"form-control\" />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Password</label>\r\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"form-control\" />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Role</label>\r\n          <select value={role} onChange={(e) => setRole(e.target.value)} className=\"form-select\">\r\n            <option value=\"EMPLOYEE\">Employee</option>\r\n            <option value=\"ADMIN\">Admin</option>\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":["Register","username","setUsername","React","password","setPassword","role","setRole","error","setError","ok","setOk","navigate","useNavigate","_jsxs","style","maxWidth","margin","children","_jsx","className","onSubmit","async","e","preventDefault","trim","axios","post","setTimeout","err","_err$response","_err$response2","_err$response2$data","response","status","data","value","onChange","target","type"],"sourceRoot":""}