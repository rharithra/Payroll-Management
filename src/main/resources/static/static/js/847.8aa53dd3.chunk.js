"use strict";(self.webpackChunksalary_management_frontend=self.webpackChunksalary_management_frontend||[]).push([[847],{8847:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n(5043),a=n(9722),l=n(5475),i=n(579);const r=function(){const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)([]),[y,x]=(0,s.useState)(!1),[b,j]=(0,s.useState)(""),[p,g]=(0,s.useState)("Earnings");return(0,s.useEffect)(()=>{(async()=>{try{const e=await a.A.get("/api/employee-masters");t(e.data||[])}catch(e){o("Failed to load employee master")}finally{r(!1)}})()},[]),(0,s.useEffect)(()=>{try{const e=localStorage.getItem("customBoxes");if(e){const t=JSON.parse(e),n=Array.isArray(t)?t.map(e=>({id:e.id,label:e.label,category:e.category||"Earnings"})):[];h(n)}x(!0)}catch(e){x(!0)}},[]),(0,s.useEffect)(()=>{if(y)try{localStorage.setItem("customBoxes",JSON.stringify(u))}catch(e){}},[u,y]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"actions-bar",children:[(0,i.jsx)(l.N_,{to:"/masters/add",className:"btn btn-primary btn-rounded",children:"Add Employee"}),(0,i.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-rounded",style:{marginLeft:8},onClick:()=>m(!0),children:"Custom Components"})]}),n&&(0,i.jsx)("div",{children:"Loading..."}),d&&(0,i.jsx)("div",{style:{color:"red"},children:d}),(0,i.jsx)("div",{className:"table-container",children:(0,i.jsxs)("table",{className:"table table-striped table-bordered salary-table",children:[(0,i.jsx)("thead",{className:"table-dark",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Employee ID"}),(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Designation"}),(0,i.jsx)("th",{children:"Total Salary"}),(0,i.jsx)("th",{children:"Join Date"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:e&&e.length>0?e.map(e=>{var n,s,r,d,o,c,m;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:null!==(s=e.employeeId)&&void 0!==s?s:""}),(0,i.jsx)("td",{children:null!==(r=e.name)&&void 0!==r?r:""}),(0,i.jsx)("td",{children:null!==(d=e.designation)&&void 0!==d?d:""}),(0,i.jsx)("td",{children:null!==(o=e.basicSalary)&&void 0!==o?o:""}),(0,i.jsx)("td",{children:null!==(c=e.joinDate)&&void 0!==c?c:""}),(0,i.jsxs)("td",{className:"no-print",children:[(0,i.jsx)(l.N_,{to:"/masters/edit/".concat(null!==(m=e.id)&&void 0!==m?m:""),className:"btn btn-sm btn-primary",style:{marginRight:8},children:"Edit"}),(0,i.jsx)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:async()=>{if(e.id&&window.confirm("Delete this employee?"))try{await a.A.delete("/api/employee-masters/".concat(e.id)),t(t=>t.filter(t=>t.id!==e.id))}catch(n){alert("Delete failed")}},children:"Delete"})]})]},null!==(n=e.id)&&void 0!==n?n:e.employeeId)}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,className:"text-center",children:"No employees found"})})})]})}),c&&(0,i.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,i.jsxs)("div",{style:{background:"#fff",borderRadius:8,padding:16,width:"90%",maxWidth:560},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[(0,i.jsx)("div",{style:{fontWeight:700,fontSize:18},children:"Custom Components"}),(0,i.jsx)("button",{type:"button",className:"btn btn-secondary btn-rounded",onClick:()=>m(!1),children:"Close"})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,i.jsx)("input",{type:"text",placeholder:"Label",value:b,onChange:e=>j(e.target.value),style:{flex:1}}),(0,i.jsxs)("select",{value:p,onChange:e=>g(e.target.value),children:[(0,i.jsx)("option",{value:"Employee",children:"Earnings"}),(0,i.jsx)("option",{value:"Earnings",children:"Allowances"}),(0,i.jsx)("option",{value:"Deductions",children:"Deductions"}),(0,i.jsx)("option",{value:"Summary",children:"Summary"})]}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded",onClick:()=>{const e=b.trim();if(!e)return;const t=[...u,{id:Date.now(),label:e,category:p}];h(t),j("")},children:"Add"})]}),(0,i.jsx)("div",{})]})})]})}}}]);
//# sourceMappingURL=847.8aa53dd3.chunk.js.map