{"version":3,"file":"static/js/617.f4443147.chunk.js","mappings":"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","sources":["components/EditEmployee.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\n// In EditEmployee component return JSX\r\nfunction EditEmployee() {\r\n    const { id } = useParams();\r\n\r\n    // In EditEmployee component: initial state\r\n    const [employee, setEmployee] = useState({\r\n        id: null,\r\n        name: '',\r\n        designation: '',\r\n        department: '',\r\n        role: '',\r\n        salaryDate: '',\r\n        employeeId: '',            // NEW: include employeeId in state\r\n        // Inputs\r\n        days: null,\r\n        basicSalary: null,\r\n        hra: null,\r\n        dearnessAllowance: null,\r\n        conveyanceAllowance: null,\r\n        specialAllowance: null,\r\n        leads: null,\r\n        performanceIncentive: null,\r\n        perCall: null,\r\n        areaAllowance: null,\r\n        os: null,\r\n        roadshow: null,\r\n        review: null,\r\n        dresscode: null,\r\n        attendanceAllowance: null,\r\n        arrears: null,\r\n        bonus: null,\r\n        // Deductions\r\n        professionalTax: null,\r\n        incomeTax: null,\r\n        providentFund: null,\r\n        advance: null,\r\n        loanDeduction: null,\r\n        salesDebits: null,\r\n        underPerformance: null,\r\n        // Derived\r\n        otherAllowance: null,\r\n        otherDeduction: null,\r\n        grossSalary: null,\r\n        totalDeduction: null,\r\n        netSalary: null\r\n    });\r\n\r\n    const n = (v) => (v == null ? 0 : v);\r\n\r\n    const [error, setError] = useState(null);\r\n    const [customBoxes, setCustomBoxes] = useState([]);\r\n    const [customBoxValues, setCustomBoxValues] = useState({});\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        try {\r\n            const saved = localStorage.getItem('customBoxes');\r\n            if (saved) {\r\n                const parsed = JSON.parse(saved);\r\n                const normalized = Array.isArray(parsed) ? parsed.map(x => ({ id: x.id, label: x.label, category: x.category || 'Earnings' })) : [];\r\n                setCustomBoxes(normalized);\r\n            }\r\n        } catch {}\r\n    }, []);\r\n\r\n    const computeDerived = useCallback((s, currentBoxes = customBoxValues, boxDefs = customBoxes) => {\r\n        const days = n(s.days);\r\n        const core =\r\n            n(s.basicSalary) +\r\n            n(s.hra) +\r\n            n(s.dearnessAllowance) +\r\n            n(s.specialAllowance);\r\n\r\n        const proratedCore = core * (days / 30);\r\n\r\n        const nonProrated =\r\n            n(s.conveyanceAllowance) +\r\n            n(s.performanceIncentive) +\r\n            n(s.perCall) +\r\n            n(s.attendanceAllowance);\r\n\r\n        const extraEarn = (boxDefs || []).filter(cb => cb.category === 'Earnings').reduce((acc, cb) => acc + n(currentBoxes[cb.label]), 0);\r\n\r\n        const otherAllowance =\r\n            n(s.leads) +\r\n            n(s.areaAllowance) +\r\n            n(s.os) +\r\n            n(s.roadshow) +\r\n            n(s.review) +\r\n            n(s.dresscode) +\r\n            n(s.arrears) +\r\n            n(s.bonus) +\r\n            extraEarn;\r\n\r\n        const grossSalary = proratedCore + nonProrated + otherAllowance;\r\n\r\n        const extraDed = (boxDefs || []).filter(cb => cb.category === 'Deductions').reduce((acc, cb) => acc + n(currentBoxes[cb.label]), 0);\r\n        const otherDeduction = n(s.advance) + n(s.salesDebits) + n(s.underPerformance) + extraDed;\r\n        const totalDeduction =\r\n            n(s.professionalTax) + n(s.incomeTax) + n(s.providentFund) + n(s.loanDeduction) + otherDeduction;\r\n\r\n        const netSalary = grossSalary - totalDeduction;\r\n\r\n        return { ...s, otherAllowance, otherDeduction, grossSalary, totalDeduction, netSalary };\r\n    }, []); // No dependencies now (passed as args)\r\n\r\n    const handleCustomBoxChange = (label, value) => {\r\n        const box = customBoxes.find(b => b.label === label);\r\n        const isNumeric = box && (box.category === 'Earnings' || box.category === 'Deductions');\r\n        let val = value;\r\n        if (isNumeric) {\r\n            val = value === '' ? 0 : parseFloat(value);\r\n        }\r\n        const nextValues = { ...customBoxValues, [label]: val };\r\n        setCustomBoxValues(nextValues);\r\n        setEmployee(prev => computeDerived(prev, nextValues, customBoxes));\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const load = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/employees/${id}`);\r\n                const data = res.data;\r\n                \r\n                // Parse custom fields\r\n                let loadedValues = {};\r\n                let loadedBoxes = [];\r\n                // Start with localStorage boxes\r\n                try {\r\n                    const saved = localStorage.getItem('customBoxes');\r\n                    if (saved) {\r\n                        const parsed = JSON.parse(saved);\r\n                        loadedBoxes = Array.isArray(parsed) ? parsed.map(x => ({ id: x.id, label: x.label, category: x.category || 'Earnings' })) : [];\r\n                    }\r\n                } catch {}\r\n\r\n                if (data.customFields) {\r\n                    try {\r\n                        const parsed = JSON.parse(data.customFields);\r\n                        if (Array.isArray(parsed)) {\r\n                            parsed.forEach(p => {\r\n                                loadedValues[p.label] = p.value;\r\n                            });\r\n                            // Merge missing boxes\r\n                            const existingLabels = new Set(loadedBoxes.map(x => x.label));\r\n                            const newBoxes = parsed.filter(p => !existingLabels.has(p.label)).map(p => ({\r\n                                id: Date.now() + Math.random(),\r\n                                label: p.label,\r\n                                category: p.category\r\n                            }));\r\n                            loadedBoxes = [...loadedBoxes, ...newBoxes];\r\n                        }\r\n                    } catch {}\r\n                }\r\n                \r\n                setCustomBoxes(loadedBoxes);\r\n                setCustomBoxValues(loadedValues);\r\n                setEmployee(computeDerived(data, loadedValues, loadedBoxes));\r\n            } catch (err) {\r\n                setError(err?.response?.data?.message || err.message);\r\n            }\r\n        };\r\n        load();\r\n    }, [id, computeDerived]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        const val = type === 'number' ? (value === '' ? null : parseFloat(value)) : value;\r\n        setEmployee(prev => computeDerived({ ...prev, [name]: val }, customBoxValues, customBoxes));\r\n    };\r\n\r\n    const [saving, setSaving] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const role = localStorage.getItem('role') || '';\r\n    const submitForApproval = async () => {\r\n        try {\r\n            await axios.post(`/api/employees/${employee.id}/submit`);\r\n            const res = await axios.get(`/api/employees/${employee.id}`);\r\n            setEmployee(computeDerived(res.data));\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err.message);\r\n        }\r\n    };\r\n\r\n    const approve = async () => {\r\n        try {\r\n            await axios.post(`/api/employees/${employee.id}/approve`);\r\n            const res = await axios.get(`/api/employees/${employee.id}`);\r\n            setEmployee(computeDerived(res.data));\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err.message);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setSaving(true);\r\n\r\n        // Validate Days\r\n        if (employee.days == null || employee.days <= 0) {\r\n            setError('Days is required and must be greater than 0');\r\n            setSaving(false);\r\n            return;\r\n        }\r\n\r\n        // Frontend duplicate check: require employeeId and prevent duplicate month\r\n        try {\r\n            if (!employee.employeeId || String(employee.employeeId).trim() === '') {\r\n                throw new Error('Please select employee from list');\r\n            }\r\n            const d = new Date(employee.salaryDate || new Date());\r\n            const year = d.getFullYear();\r\n            const month = d.getMonth() + 1;\r\n            \r\n            // We need to check if ANY entry exists for this emp/month, excluding CURRENT record\r\n            // The efficient API returns true/false if ANY exists.\r\n            // If we are updating, we need to know if *another* one exists.\r\n            // The current simple \"exists\" API doesn't exclude ID.\r\n            // So we might need to fallback to fetching matching records (which should be few, e.g. 1)\r\n            \r\n            // Use getEmployeesByMonth to narrow down\r\n            const res = await axios.get(`/api/employees?year=${year}&month=${month}`);\r\n            const dup = (res.data || []).some((r) =>\r\n                String(r.employeeId || '').trim() === String(employee.employeeId).trim() &&\r\n                r.id !== employee.id\r\n            );\r\n            \r\n            if (dup) {\r\n                throw new Error('Salary already exists for this employee in this month');\r\n            }\r\n        } catch (preErr) {\r\n            setError(preErr.message);\r\n            setSaving(false);\r\n            return;\r\n        }\r\n\r\n        const customFieldsList = customBoxes.map(cb => ({\r\n            label: cb.label,\r\n            category: cb.category,\r\n            value: customBoxValues[cb.label]\r\n        })).filter(x => x.value !== undefined && x.value !== null && x.value !== '' && x.value !== 0);\r\n\r\n        const customAllowanceAmount = customFieldsList\r\n            .filter(x => x.category === 'Earnings')\r\n            .reduce((acc, x) => acc + (parseFloat(x.value) || 0), 0);\r\n\r\n        const customDeductionAmount = customFieldsList\r\n            .filter(x => x.category === 'Deductions')\r\n            .reduce((acc, x) => acc + (parseFloat(x.value) || 0), 0);\r\n\r\n        const payload = {\r\n            id: employee.id,\r\n            name: employee.name,\r\n            designation: employee.designation,\r\n            department: employee.department,\r\n            role: employee.role,\r\n            salaryDate: employee.salaryDate,\r\n            employeeId: employee.employeeId,\r\n            days: employee.days,\r\n            basicSalary: employee.basicSalary,\r\n            hra: employee.hra,\r\n            dearnessAllowance: employee.dearnessAllowance,\r\n            conveyanceAllowance: employee.conveyanceAllowance,\r\n            specialAllowance: employee.specialAllowance,\r\n            leads: employee.leads,\r\n            performanceIncentive: employee.performanceIncentive,\r\n            perCall: employee.perCall,\r\n            areaAllowance: employee.areaAllowance,\r\n            os: employee.os,\r\n            roadshow: employee.roadshow,\r\n            review: employee.review,\r\n            dresscode: employee.dresscode,\r\n            attendanceAllowance: employee.attendanceAllowance,\r\n            arrears: employee.arrears,\r\n            bonus: employee.bonus,\r\n            professionalTax: employee.professionalTax,\r\n            incomeTax: employee.incomeTax,\r\n            providentFund: employee.providentFund,\r\n            advance: employee.advance,\r\n            loanDeduction: employee.loanDeduction,\r\n            salesDebits: employee.salesDebits,\r\n            underPerformance: employee.underPerformance,\r\n            otherAllowance: employee.otherAllowance,\r\n            otherDeduction: employee.otherDeduction,\r\n            grossSalary: employee.grossSalary,\r\n            totalDeduction: employee.totalDeduction,\r\n            netSalary: employee.netSalary,\r\n            customFields: JSON.stringify(customFieldsList),\r\n            customAllowanceAmount,\r\n            customDeductionAmount\r\n        };\r\n\r\n        try {\r\n            await axios.put(`/api/employees/${employee.id}`, payload, {\r\n                headers: { 'Content-Type': 'application/json', Accept: 'application/json' }\r\n            });\r\n            navigate('/employees');\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err.message);\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container edit-screen\">\r\n            <style>{`\r\n                .edit-screen input[type=\"text\"],\r\n                .edit-screen input[type=\"number\"],\r\n                .edit-screen input[type=\"date\"] {\r\n                    height: 48px;\r\n                    min-height: 48px;\r\n                    padding: 10px 12px;\r\n                    line-height: 28px;\r\n                }\r\n            `}</style>\r\n            <form onSubmit={handleSubmit}>\r\n                {/* Two-column layout identical to AddEmployee */}\r\n                <div className=\"form-grid\">\r\n                    {/* Column 1 (same order as AddEmployee) */}\r\n                    <div>\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"employee-name\">Employee Name</label>\r\n                            <input\r\n                                id=\"employee-name\"\r\n                                name=\"name\"\r\n                                type=\"text\"\r\n                                placeholder=\"Employee Name\"\r\n                                value={employee.name ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"designation\">Designation</label>\r\n                            <input\r\n                                id=\"designation\"\r\n                                name=\"designation\"\r\n                                type=\"text\"\r\n                                placeholder=\"Designation\"\r\n                                value={employee.designation ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"days\">Days</label>\r\n                            <input\r\n                                id=\"days\"\r\n                                name=\"days\"\r\n                                type=\"number\"\r\n                                placeholder=\"Days\"\r\n                                value={employee.days ?? ''}\r\n                                onChange={(e) => setEmployee({ ...employee, days: Number(e.target.value || 0) })}\r\n                                required />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"basicSalary\">Basic salary</label>\r\n                            <input\r\n                                id=\"basicSalary\"\r\n                                name=\"basicSalary\"\r\n                                type=\"number\"\r\n                                placeholder=\"Basic salary\"\r\n                                value={employee.basicSalary ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"hra\">House Rent Allowance</label>\r\n                            <input\r\n                                id=\"hra\"\r\n                                name=\"hra\"\r\n                                type=\"number\"\r\n                                placeholder=\"House Rent Allowance\"\r\n                                value={employee.hra ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"dearnessAllowance\">Dearness Allowance</label>\r\n                            <input\r\n                                id=\"dearnessAllowance\"\r\n                                name=\"dearnessAllowance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Dearness Allowance\"\r\n                                value={employee.dearnessAllowance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        {customBoxes.filter(cb => cb.category === 'Employee').map(cb => (\r\n                            <div key={cb.id} className=\"form-item\">\r\n                                <label>{cb.label}</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={(customBoxValues[cb.label] ?? '')}\r\n                                    onChange={(e) => handleCustomBoxChange(cb.label, e.target.value)}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n\r\n\r\n                        <div className=\"form-item\">\r\n                            <label>Basic + HRA + DA (auto)</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                readOnly\r\n                                aria-readonly=\"true\"\r\n                                value={(n(employee.basicSalary) + n(employee.hra) + n(employee.dearnessAllowance)).toFixed(2)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"conveyanceAllowance\">Conveyance allowance</label>\r\n                            <input\r\n                                id=\"conveyanceAllowance\"\r\n                                name=\"conveyanceAllowance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Conveyance allowance\"\r\n                                value={employee.conveyanceAllowance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"specialAllowance\">Special allowance</label>\r\n                            <input\r\n                                id=\"specialAllowance\"\r\n                                name=\"specialAllowance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Special allowance\"\r\n                                value={employee.specialAllowance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"leads\">Leads</label>\r\n                            <input\r\n                                id=\"leads\"\r\n                                name=\"leads\"\r\n                                type=\"number\"\r\n                                placeholder=\"Leads\"\r\n                                value={employee.leads ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"performanceIncentive\">Sales incentive</label>\r\n                            <input\r\n                                id=\"performanceIncentive\"\r\n                                name=\"performanceIncentive\"\r\n                                type=\"number\"\r\n                                placeholder=\"Sales incentive\"\r\n                                value={employee.performanceIncentive ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"perCall\">Per-call inc</label>\r\n                            <input\r\n                                id=\"perCall\"\r\n                                name=\"perCall\"\r\n                                type=\"number\"\r\n                                placeholder=\"Per-call inc\"\r\n                                value={employee.perCall ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"areaAllowance\">Area allowance</label>\r\n                            <input\r\n                                id=\"areaAllowance\"\r\n                                name=\"areaAllowance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Area allowance\"\r\n                                value={employee.areaAllowance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"os\">OS</label>\r\n                            <input\r\n                                id=\"os\"\r\n                                name=\"os\"\r\n                                type=\"number\"\r\n                                placeholder=\"OS\"\r\n                                value={employee.os ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Column 2 (same order as AddEmployee) */}\r\n                    <div>\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"roadshow\">Roadshow promo</label>\r\n                            <input\r\n                                id=\"roadshow\"\r\n                                name=\"roadshow\"\r\n                                type=\"number\"\r\n                                placeholder=\"Roadshow promo\"\r\n                                value={employee.roadshow ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"review\">Review</label>\r\n                            <input\r\n                                id=\"review\"\r\n                                name=\"review\"\r\n                                type=\"number\"\r\n                                placeholder=\"Review\"\r\n                                value={employee.review ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"dresscode\">Dresscode</label>\r\n                            <input\r\n                                id=\"dresscode\"\r\n                                name=\"dresscode\"\r\n                                type=\"number\"\r\n                                placeholder=\"Dresscode\"\r\n                                value={employee.dresscode ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"attendanceAllowance\">Attendance allowance</label>\r\n                            <input\r\n                                id=\"attendanceAllowance\"\r\n                                name=\"attendanceAllowance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Attendance allowance\"\r\n                                value={employee.attendanceAllowance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"arrears\">Arrears</label>\r\n                            <input\r\n                                id=\"arrears\"\r\n                                name=\"arrears\"\r\n                                type=\"number\"\r\n                                placeholder=\"Arrears\"\r\n                                value={employee.arrears ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"bonus\">Bonus</label>\r\n                            <input\r\n                                id=\"bonus\"\r\n                                name=\"bonus\"\r\n                                type=\"number\"\r\n                                placeholder=\"Bonus\"\r\n                                value={employee.bonus ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        {customBoxes.filter(cb => cb.category === 'Earnings').map(cb => (\r\n                            <div key={cb.id} className=\"form-item\">\r\n                                <label>{cb.label} <button type=\"button\" style={{ fontSize: '0.7em', color: 'red', border: 'none', background: 'none' }} onClick={() => {\r\n                                    setCustomBoxes(prev => prev.filter(x => x.id !== cb.id));\r\n                                    const next = { ...customBoxValues };\r\n                                    delete next[cb.label];\r\n                                    setCustomBoxValues(next);\r\n                                    setEmployee(prevEmp => computeDerived(prevEmp, next, customBoxes.filter(x => x.id !== cb.id)));\r\n                                }}>(x)</button></label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={(customBoxValues[cb.label] ?? '')}\r\n                                    onChange={(e) => handleCustomBoxChange(cb.label, e.target.value)}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"grossSalary\">Grosspay (auto)</label>\r\n                            <input\r\n                                id=\"grossSalary\"\r\n                                type=\"number\"\r\n                                readOnly\r\n                                aria-readonly=\"true\"\r\n                                value={n(employee.grossSalary).toFixed(2)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"professionalTax\">Ess/16</label>\r\n                            <input\r\n                                id=\"professionalTax\"\r\n                                name=\"professionalTax\"\r\n                                type=\"number\"\r\n                                placeholder=\"Ess/16\"\r\n                                value={employee.professionalTax ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"advance\">Advance/17</label>\r\n                            <input\r\n                                id=\"advance\"\r\n                                name=\"advance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Advance/17\"\r\n                                value={employee.advance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"loanDeduction\">Loan/18</label>\r\n                            <input\r\n                                id=\"loanDeduction\"\r\n                                name=\"loanDeduction\"\r\n                                type=\"number\"\r\n                                placeholder=\"Loan/18\"\r\n                                value={employee.loanDeduction ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"salesDebits\">Sales debits/19</label>\r\n                            <input\r\n                                id=\"salesDebits\"\r\n                                name=\"salesDebits\"\r\n                                type=\"number\"\r\n                                placeholder=\"Sales debits/19\"\r\n                                value={employee.salesDebits ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"underPerformance\">Underperformance/20</label>\r\n                            <input\r\n                                id=\"underPerformance\"\r\n                                name=\"underPerformance\"\r\n                                type=\"number\"\r\n                                placeholder=\"Underperformance/20\"\r\n                                value={employee.underPerformance ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        {customBoxes.filter(cb => cb.category === 'Deductions').map(cb => (\r\n                            <div key={cb.id} className=\"form-item\">\r\n                                <label>{cb.label} <button type=\"button\" style={{ fontSize: '0.7em', color: 'red', border: 'none', background: 'none' }} onClick={() => {\r\n                                    setCustomBoxes(prev => prev.filter(x => x.id !== cb.id));\r\n                                    const next = { ...customBoxValues };\r\n                                    delete next[cb.label];\r\n                                    setCustomBoxValues(next);\r\n                                    setEmployee(prevEmp => computeDerived(prevEmp, next, customBoxes.filter(x => x.id !== cb.id)));\r\n                                }}>(x)</button></label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={(customBoxValues[cb.label] ?? '')}\r\n                                    onChange={(e) => handleCustomBoxChange(cb.label, e.target.value)}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"totalDeduction\">Total Deduction (auto)</label>\r\n                            <input\r\n                                id=\"totalDeduction\"\r\n                                type=\"number\"\r\n                                readOnly\r\n                                aria-readonly=\"true\"\r\n                                value={n(employee.totalDeduction).toFixed(2)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"netSalary\">Net (auto)</label>\r\n                            <input\r\n                                id=\"netSalary\"\r\n                                type=\"number\"\r\n                                readOnly\r\n                                aria-readonly=\"true\"\r\n                                value={n(employee.netSalary).toFixed(2)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-item\">\r\n                            <label htmlFor=\"salaryDate\">Salary Date</label>\r\n                            <input\r\n                                id=\"salaryDate\"\r\n                                name=\"salaryDate\"\r\n                                type=\"date\"\r\n                                placeholder=\"YYYY-MM-DD\"\r\n                                value={employee.salaryDate ?? ''}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n\r\n                        {customBoxes.filter(cb => cb.category === 'Summary').map(cb => (\r\n                            <div key={cb.id} className=\"form-item\">\r\n                                <label>{cb.label}</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={(customBoxValues[cb.label] ?? '')}\r\n                                    onChange={(e) => handleCustomBoxChange(cb.label, e.target.value)}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"btn-container\">\r\n                    {!(role === 'EMPLOYEE' && String(employee.status || '').toUpperCase() === 'APPROVED') && (\r\n                        <button type=\"submit\" disabled={saving}>Save Changes</button>\r\n                    )}\r\n                    <button type=\"button\" onClick={() => navigate('/employees')}>Cancel</button>\r\n                    {role === 'EMPLOYEE' && String(employee.status || 'DRAFT').toUpperCase() !== 'APPROVED' && (\r\n                        <button type=\"button\" className=\"btn btn-outline-primary\" onClick={submitForApproval} style={{ marginLeft: 8 }}>Submit for Approval</button>\r\n                    )}\r\n                    {role === 'ADMIN' && String(employee.status || '').toUpperCase() === 'SUBMITTED' && (\r\n                        <button type=\"button\" className=\"btn btn-success\" onClick={approve} style={{ marginLeft: 8 }}>Approve</button>\r\n                    )}\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n        \r\n}\r\n\r\nexport default EditEmployee;\r\n"],"names":["_employee$name","_employee$designation","_employee$days","_employee$basicSalary","_employee$hra","_employee$dearnessAll","_employee$conveyanceA","_employee$specialAllo","_employee$leads","_employee$performance","_employee$perCall","_employee$areaAllowan","_employee$os","_employee$roadshow","_employee$review","_employee$dresscode","_employee$attendanceA","_employee$arrears","_employee$bonus","_employee$professiona","_employee$advance","_employee$loanDeducti","_employee$salesDebits","_employee$underPerfor","_employee$salaryDate","id","useParams","employee","setEmployee","useState","name","designation","department","role","salaryDate","employeeId","days","basicSalary","hra","dearnessAllowance","conveyanceAllowance","specialAllowance","leads","performanceIncentive","perCall","areaAllowance","os","roadshow","review","dresscode","attendanceAllowance","arrears","bonus","professionalTax","incomeTax","providentFund","advance","loanDeduction","salesDebits","underPerformance","otherAllowance","otherDeduction","grossSalary","totalDeduction","netSalary","n","v","error","setError","customBoxes","setCustomBoxes","customBoxValues","setCustomBoxValues","useEffect","saved","localStorage","getItem","parsed","JSON","parse","normalized","Array","isArray","map","x","label","category","_unused","computeDerived","useCallback","s","currentBoxes","arguments","length","undefined","boxDefs","proratedCore","nonProrated","extraEarn","filter","cb","reduce","acc","extraDed","_objectSpread","handleCustomBoxChange","value","box","find","b","val","parseFloat","nextValues","prev","async","data","axios","get","concat","loadedValues","loadedBoxes","_unused2","customFields","forEach","p","existingLabels","Set","newBoxes","has","Date","now","Math","random","_unused3","err","_err$response","_err$response$data","response","message","load","handleChange","e","type","target","saving","setSaving","navigate","useNavigate","_jsxs","className","children","_jsx","onSubmit","preventDefault","String","trim","Error","d","year","getFullYear","month","getMonth","res","some","r","preErr","customFieldsList","customAllowanceAmount","customDeductionAmount","payload","stringify","put","headers","Accept","_err$response4","_err$response4$data","htmlFor","placeholder","onChange","Number","required","_customBoxValues$cb$l","readOnly","toFixed","_customBoxValues$cb$l2","style","fontSize","color","border","background","onClick","next","prevEmp","_customBoxValues$cb$l3","_customBoxValues$cb$l4","status","toUpperCase","disabled","post","_err$response2","_err$response2$data","marginLeft","_err$response3","_err$response3$data"],"sourceRoot":""}